<!DOCTPE html>
<html>
<head>
    <meta charset="utf-8">
    <title>D3 Test</title>
    <script type="text/javascript" src="d3/d3.js"></script>
</head>
<body>
    <div id="div1" />
    <script type="text/javascript">
        var addRectangle = function(x,y,fill) {
            d3.select("svg")
                .append("rect")
                .attr("x", x)
                .attr("y", y)
                .attr("width", 50)
                .attr("height", 50)
                .attr("fill", fill);
        }

        d3.csv("data.csv", function(data) {
            d3.select("#div1")
            .selectAll("p")
            .data(data)
            .enter()
            .append("p")
            .text(function(d) { 
                return d.data; 
            })
            .style("color", function(d) {
                if (d>=15) {
                    return "green";
                } else {
                    return "black";
                }
            });

            d3.select("#div1")
                .append("svg")
                .attr("width", 500)
                .attr("height", 100);
            
            addRectangle(0,0,"rgba(128, 0, 128, 1.0)");
            addRectangle(20,5,"rgba(0, 0, 255, 0.75)");
            addRectangle(40,10,"rgba(0, 255, 0, 0.5)");
            addRectangle(60,15,"rgba(0, 255, 0, 0.5)");
            addRectangle(80,20,"rgba(255, 0, 0, 0.1)");
        });
    </script>
</body>
</html>